# 48. 모듈

## 모듈의 일반적 의미

<aside>
💡 애플리케이션을 구성하는 개별적 요소로서, 재사용 가능한 코드 조각

</aside>

- 기능을 기준으로 파일 단위로 분리한다.
- 자신만의 **파일 스코프(모듈 스코프)**를 가질 수 있어야 한다.
    - 자산(모듈에 포함되어 있는 변수, 함수, 객체)은 기본적으로 비공개이기 때문에 다른 모듈에서 접근할 수 없음
    - 공개가 필요한 자산에 한하여 `export`, `import` 를 통해 공개 및 다른 모듈에서 사용 가능

## 자바스크립트에서의 모듈

- 자바스크립트는 본래 웹페이지의 단순한 보조 기능을 처리하기 위해 태어남
    - 모듈 시스템을 지원하지 않았음
        - `script` 태그로 외부의 자바스크립트 파일을 로드할 수는 있으나 파일마다 독립적인 스코프를 갖지 않았음
        - 즉 모든 자바스크립트 파일은 하나의 전역을 공유하기 때문에 전역 변수 중복 등의 문제가 발생
- 자바스크립트를 브라우저 환경에 국한하지 않고 범용적으로 사용하려는 움직임에 따라 Node.js는 모듈 시스템의 사실상 표준이었던 `CommonJs` 사양을 따르는 모듈 시스템을 지원

## ES6 모듈(ESM)

- ES6에서는 클라이언트 사이드 자바스크립트에서도 동작하는 모듈 기능을 추가
- IE를 제외한 대부분의 브라우저에서 사용 가능
- `script` 태그에 `type="module"` 어트리뷰트를 추가하는 방식으로 사용
- 파일 확장자는 `mjs` 사용을 권장

### 독자적인 모듈 스코프

- 모듈 내에서 `var` 키워드로 선언한 변수는 더 이상 전역 변수가 아니며 window 객체의 프로퍼티도 아니다.